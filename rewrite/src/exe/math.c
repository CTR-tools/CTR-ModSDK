#include <ctr/math.h>
#include <ctr/gte.h>
#include <ctr/nd.h>
#include <ctr/test.h>

/* Generated in scripts/gen_trig_table.py */
static const TrigTable s_trigTable[] = { { .sin = 0, .cos = 4096 },  { .sin = 6, .cos = 4095 },  { .sin = 12, .cos = 4095 },  { .sin = 18, .cos = 4095 },  { .sin = 25, .cos = 4095 },  { .sin = 31, .cos = 4095 },  { .sin = 37, .cos = 4095 },  { .sin = 43, .cos = 4095 },  { .sin = 50, .cos = 4095 },  { .sin = 56, .cos = 4095 },  { .sin = 62, .cos = 4095 },  { .sin = 69, .cos = 4095 },  { .sin = 75, .cos = 4095 },  { .sin = 81, .cos = 4095 },  { .sin = 87, .cos = 4095 },  { .sin = 94, .cos = 4094 },  { .sin = 100, .cos = 4094 },  { .sin = 106, .cos = 4094 },  { .sin = 113, .cos = 4094 },  { .sin = 119, .cos = 4094 },  { .sin = 125, .cos = 4094 },  { .sin = 131, .cos = 4093 },  { .sin = 138, .cos = 4093 },  { .sin = 144, .cos = 4093 },  { .sin = 150, .cos = 4093 },  { .sin = 157, .cos = 4092 },  { .sin = 163, .cos = 4092 },  { .sin = 169, .cos = 4092 },  { .sin = 175, .cos = 4092 },  { .sin = 182, .cos = 4091 },  { .sin = 188, .cos = 4091 },  { .sin = 194, .cos = 4091 },  { .sin = 200, .cos = 4091 },  { .sin = 207, .cos = 4090 },  { .sin = 213, .cos = 4090 },  { .sin = 219, .cos = 4090 },  { .sin = 226, .cos = 4089 },  { .sin = 232, .cos = 4089 },  { .sin = 238, .cos = 4089 },  { .sin = 244, .cos = 4088 },  { .sin = 251, .cos = 4088 },  { .sin = 257, .cos = 4087 },  { .sin = 263, .cos = 4087 },  { .sin = 269, .cos = 4087 },  { .sin = 276, .cos = 4086 },  { .sin = 282, .cos = 4086 },  { .sin = 288, .cos = 4085 },  { .sin = 295, .cos = 4085 },  { .sin = 301, .cos = 4084 },  { .sin = 307, .cos = 4084 },  { .sin = 313, .cos = 4083 },  { .sin = 320, .cos = 4083 },  { .sin = 326, .cos = 4082 },  { .sin = 332, .cos = 4082 },  { .sin = 338, .cos = 4081 },  { .sin = 345, .cos = 4081 },  { .sin = 351, .cos = 4080 },  { .sin = 357, .cos = 4080 },  { .sin = 363, .cos = 4079 },  { .sin = 370, .cos = 4079 },  { .sin = 376, .cos = 4078 },  { .sin = 382, .cos = 4078 },  { .sin = 388, .cos = 4077 },  { .sin = 395, .cos = 4076 },  { .sin = 401, .cos = 4076 },  { .sin = 407, .cos = 4075 },  { .sin = 413, .cos = 4075 },  { .sin = 420, .cos = 4074 },  { .sin = 426, .cos = 4073 },  { .sin = 432, .cos = 4073 },  { .sin = 438, .cos = 4072 },  { .sin = 445, .cos = 4071 },  { .sin = 451, .cos = 4071 },  { .sin = 457, .cos = 4070 },  { .sin = 463, .cos = 4069 },  { .sin = 470, .cos = 4068 },  { .sin = 476, .cos = 4068 },  { .sin = 482, .cos = 4067 },  { .sin = 488, .cos = 4066 },  { .sin = 495, .cos = 4065 },  { .sin = 501, .cos = 4065 },  { .sin = 507, .cos = 4064 },  { .sin = 513, .cos = 4063 },  { .sin = 520, .cos = 4062 },  { .sin = 526, .cos = 4062 },  { .sin = 532, .cos = 4061 },  { .sin = 538, .cos = 4060 },  { .sin = 545, .cos = 4059 },  { .sin = 551, .cos = 4058 },  { .sin = 557, .cos = 4057 },  { .sin = 563, .cos = 4057 },  { .sin = 569, .cos = 4056 },  { .sin = 576, .cos = 4055 },  { .sin = 582, .cos = 4054 },  { .sin = 588, .cos = 4053 },  { .sin = 594, .cos = 4052 },  { .sin = 601, .cos = 4051 },  { .sin = 607, .cos = 4050 },  { .sin = 613, .cos = 4049 },  { .sin = 619, .cos = 4048 },  { .sin = 625, .cos = 4047 },  { .sin = 632, .cos = 4046 },  { .sin = 638, .cos = 4045 },  { .sin = 644, .cos = 4044 },  { .sin = 650, .cos = 4043 },  { .sin = 656, .cos = 4042 },  { .sin = 663, .cos = 4041 },  { .sin = 669, .cos = 4040 },  { .sin = 675, .cos = 4039 },  { .sin = 681, .cos = 4038 },  { .sin = 687, .cos = 4037 },  { .sin = 694, .cos = 4036 },  { .sin = 700, .cos = 4035 },  { .sin = 706, .cos = 4034 },  { .sin = 712, .cos = 4033 },  { .sin = 718, .cos = 4032 },  { .sin = 725, .cos = 4031 },  { .sin = 731, .cos = 4030 },  { .sin = 737, .cos = 4029 },  { .sin = 743, .cos = 4027 },  { .sin = 749, .cos = 4026 },  { .sin = 755, .cos = 4025 },  { .sin = 762, .cos = 4024 },  { .sin = 768, .cos = 4023 },  { .sin = 774, .cos = 4022 },  { .sin = 780, .cos = 4020 },  { .sin = 786, .cos = 4019 },  { .sin = 792, .cos = 4018 },  { .sin = 799, .cos = 4017 },  { .sin = 805, .cos = 4016 },  { .sin = 811, .cos = 4014 },  { .sin = 817, .cos = 4013 },  { .sin = 823, .cos = 4012 },  { .sin = 829, .cos = 4011 },  { .sin = 836, .cos = 4009 },  { .sin = 842, .cos = 4008 },  { .sin = 848, .cos = 4007 },  { .sin = 854, .cos = 4005 },  { .sin = 860, .cos = 4004 },  { .sin = 866, .cos = 4003 },  { .sin = 872, .cos = 4001 },  { .sin = 879, .cos = 4000 },  { .sin = 885, .cos = 3999 },  { .sin = 891, .cos = 3997 },  { .sin = 897, .cos = 3996 },  { .sin = 903, .cos = 3995 },  { .sin = 909, .cos = 3993 },  { .sin = 915, .cos = 3992 },  { .sin = 921, .cos = 3990 },  { .sin = 928, .cos = 3989 },  { .sin = 934, .cos = 3988 },  { .sin = 940, .cos = 3986 },  { .sin = 946, .cos = 3985 },  { .sin = 952, .cos = 3983 },  { .sin = 958, .cos = 3982 },  { .sin = 964, .cos = 3980 },  { .sin = 970, .cos = 3979 },  { .sin = 976, .cos = 3977 },  { .sin = 983, .cos = 3976 },  { .sin = 989, .cos = 3974 },  { .sin = 995, .cos = 3973 },  { .sin = 1001, .cos = 3971 },  { .sin = 1007, .cos = 3970 },  { .sin = 1013, .cos = 3968 },  { .sin = 1019, .cos = 3967 },  { .sin = 1025, .cos = 3965 },  { .sin = 1031, .cos = 3963 },  { .sin = 1037, .cos = 3962 },  { .sin = 1043, .cos = 3960 },  { .sin = 1050, .cos = 3959 },  { .sin = 1056, .cos = 3957 },  { .sin = 1062, .cos = 3955 },  { .sin = 1068, .cos = 3954 },  { .sin = 1074, .cos = 3952 },  { .sin = 1080, .cos = 3950 },  { .sin = 1086, .cos = 3949 },  { .sin = 1092, .cos = 3947 },  { .sin = 1098, .cos = 3945 },  { .sin = 1104, .cos = 3944 },  { .sin = 1110, .cos = 3942 },  { .sin = 1116, .cos = 3940 },  { .sin = 1122, .cos = 3939 },  { .sin = 1128, .cos = 3937 },  { .sin = 1134, .cos = 3935 },  { .sin = 1140, .cos = 3933 },  { .sin = 1146, .cos = 3932 },  { .sin = 1152, .cos = 3930 },  { .sin = 1158, .cos = 3928 },  { .sin = 1164, .cos = 3926 },  { .sin = 1170, .cos = 3925 },  { .sin = 1176, .cos = 3923 },  { .sin = 1182, .cos = 3921 },  { .sin = 1189, .cos = 3919 },  { .sin = 1195, .cos = 3917 },  { .sin = 1201, .cos = 3915 },  { .sin = 1207, .cos = 3914 },  { .sin = 1213, .cos = 3912 },  { .sin = 1219, .cos = 3910 },  { .sin = 1225, .cos = 3908 },  { .sin = 1231, .cos = 3906 },  { .sin = 1237, .cos = 3904 },  { .sin = 1243, .cos = 3902 },  { .sin = 1248, .cos = 3900 },  { .sin = 1254, .cos = 3899 },  { .sin = 1260, .cos = 3897 },  { .sin = 1266, .cos = 3895 },  { .sin = 1272, .cos = 3893 },  { .sin = 1278, .cos = 3891 },  { .sin = 1284, .cos = 3889 },  { .sin = 1290, .cos = 3887 },  { .sin = 1296, .cos = 3885 },  { .sin = 1302, .cos = 3883 },  { .sin = 1308, .cos = 3881 },  { .sin = 1314, .cos = 3879 },  { .sin = 1320, .cos = 3877 },  { .sin = 1326, .cos = 3875 },  { .sin = 1332, .cos = 3873 },  { .sin = 1338, .cos = 3871 },  { .sin = 1344, .cos = 3869 },  { .sin = 1350, .cos = 3867 },  { .sin = 1356, .cos = 3864 },  { .sin = 1362, .cos = 3862 },  { .sin = 1368, .cos = 3860 },  { .sin = 1373, .cos = 3858 },  { .sin = 1379, .cos = 3856 },  { .sin = 1385, .cos = 3854 },  { .sin = 1391, .cos = 3852 },  { .sin = 1397, .cos = 3850 },  { .sin = 1403, .cos = 3848 },  { .sin = 1409, .cos = 3845 },  { .sin = 1415, .cos = 3843 },  { .sin = 1421, .cos = 3841 },  { .sin = 1427, .cos = 3839 },  { .sin = 1433, .cos = 3837 },  { .sin = 1438, .cos = 3834 },  { .sin = 1444, .cos = 3832 },  { .sin = 1450, .cos = 3830 },  { .sin = 1456, .cos = 3828 },  { .sin = 1462, .cos = 3826 },  { .sin = 1468, .cos = 3823 },  { .sin = 1474, .cos = 3821 },  { .sin = 1479, .cos = 3819 },  { .sin = 1485, .cos = 3816 },  { .sin = 1491, .cos = 3814 },  { .sin = 1497, .cos = 3812 },  { .sin = 1503, .cos = 3810 },  { .sin = 1509, .cos = 3807 },  { .sin = 1515, .cos = 3805 },  { .sin = 1520, .cos = 3803 },  { .sin = 1526, .cos = 3800 },  { .sin = 1532, .cos = 3798 },  { .sin = 1538, .cos = 3796 },  { .sin = 1544, .cos = 3793 },  { .sin = 1550, .cos = 3791 },  { .sin = 1555, .cos = 3789 },  { .sin = 1561, .cos = 3786 },  { .sin = 1567, .cos = 3784 },  { .sin = 1573, .cos = 3781 },  { .sin = 1579, .cos = 3779 },  { .sin = 1584, .cos = 3776 },  { .sin = 1590, .cos = 3774 },  { .sin = 1596, .cos = 3772 },  { .sin = 1602, .cos = 3769 },  { .sin = 1608, .cos = 3767 },  { .sin = 1613, .cos = 3764 },  { .sin = 1619, .cos = 3762 },  { .sin = 1625, .cos = 3759 },  { .sin = 1631, .cos = 3757 },  { .sin = 1636, .cos = 3754 },  { .sin = 1642, .cos = 3752 },  { .sin = 1648, .cos = 3749 },  { .sin = 1654, .cos = 3747 },  { .sin = 1659, .cos = 3744 },  { .sin = 1665, .cos = 3742 },  { .sin = 1671, .cos = 3739 },  { .sin = 1677, .cos = 3736 },  { .sin = 1682, .cos = 3734 },  { .sin = 1688, .cos = 3731 },  { .sin = 1694, .cos = 3729 },  { .sin = 1699, .cos = 3726 },  { .sin = 1705, .cos = 3723 },  { .sin = 1711, .cos = 3721 },  { .sin = 1717, .cos = 3718 },  { .sin = 1722, .cos = 3716 },  { .sin = 1728, .cos = 3713 },  { .sin = 1734, .cos = 3710 },  { .sin = 1739, .cos = 3708 },  { .sin = 1745, .cos = 3705 },  { .sin = 1751, .cos = 3702 },  { .sin = 1756, .cos = 3700 },  { .sin = 1762, .cos = 3697 },  { .sin = 1768, .cos = 3694 },  { .sin = 1773, .cos = 3691 },  { .sin = 1779, .cos = 3689 },  { .sin = 1785, .cos = 3686 },  { .sin = 1790, .cos = 3683 },  { .sin = 1796, .cos = 3680 },  { .sin = 1802, .cos = 3678 },  { .sin = 1807, .cos = 3675 },  { .sin = 1813, .cos = 3672 },  { .sin = 1819, .cos = 3669 },  { .sin = 1824, .cos = 3667 },  { .sin = 1830, .cos = 3664 },  { .sin = 1835, .cos = 3661 },  { .sin = 1841, .cos = 3658 },  { .sin = 1847, .cos = 3655 },  { .sin = 1852, .cos = 3652 },  { .sin = 1858, .cos = 3650 },  { .sin = 1864, .cos = 3647 },  { .sin = 1869, .cos = 3644 },  { .sin = 1875, .cos = 3641 },  { .sin = 1880, .cos = 3638 },  { .sin = 1886, .cos = 3635 },  { .sin = 1891, .cos = 3632 },  { .sin = 1897, .cos = 3629 },  { .sin = 1903, .cos = 3627 },  { .sin = 1908, .cos = 3624 },  { .sin = 1914, .cos = 3621 },  { .sin = 1919, .cos = 3618 },  { .sin = 1925, .cos = 3615 },  { .sin = 1930, .cos = 3612 },  { .sin = 1936, .cos = 3609 },  { .sin = 1941, .cos = 3606 },  { .sin = 1947, .cos = 3603 },  { .sin = 1952, .cos = 3600 },  { .sin = 1958, .cos = 3597 },  { .sin = 1964, .cos = 3594 },  { .sin = 1969, .cos = 3591 },  { .sin = 1975, .cos = 3588 },  { .sin = 1980, .cos = 3585 },  { .sin = 1986, .cos = 3582 },  { .sin = 1991, .cos = 3579 },  { .sin = 1997, .cos = 3576 },  { .sin = 2002, .cos = 3573 },  { .sin = 2007, .cos = 3570 },  { .sin = 2013, .cos = 3566 },  { .sin = 2018, .cos = 3563 },  { .sin = 2024, .cos = 3560 },  { .sin = 2029, .cos = 3557 },  { .sin = 2035, .cos = 3554 },  { .sin = 2040, .cos = 3551 },  { .sin = 2046, .cos = 3548 },  { .sin = 2051, .cos = 3545 },  { .sin = 2057, .cos = 3541 },  { .sin = 2062, .cos = 3538 },  { .sin = 2067, .cos = 3535 },  { .sin = 2073, .cos = 3532 },  { .sin = 2078, .cos = 3529 },  { .sin = 2084, .cos = 3526 },  { .sin = 2089, .cos = 3522 },  { .sin = 2094, .cos = 3519 },  { .sin = 2100, .cos = 3516 },  { .sin = 2105, .cos = 3513 },  { .sin = 2111, .cos = 3510 },  { .sin = 2116, .cos = 3506 },  { .sin = 2121, .cos = 3503 },  { .sin = 2127, .cos = 3500 },  { .sin = 2132, .cos = 3497 },  { .sin = 2138, .cos = 3493 },  { .sin = 2143, .cos = 3490 },  { .sin = 2148, .cos = 3487 },  { .sin = 2154, .cos = 3483 },  { .sin = 2159, .cos = 3480 },  { .sin = 2164, .cos = 3477 },  { .sin = 2170, .cos = 3473 },  { .sin = 2175, .cos = 3470 },  { .sin = 2180, .cos = 3467 },  { .sin = 2186, .cos = 3463 },  { .sin = 2191, .cos = 3460 },  { .sin = 2196, .cos = 3457 },  { .sin = 2201, .cos = 3453 },  { .sin = 2207, .cos = 3450 },  { .sin = 2212, .cos = 3447 },  { .sin = 2217, .cos = 3443 },  { .sin = 2223, .cos = 3440 },  { .sin = 2228, .cos = 3436 },  { .sin = 2233, .cos = 3433 },  { .sin = 2238, .cos = 3429 },  { .sin = 2244, .cos = 3426 },  { .sin = 2249, .cos = 3423 },  { .sin = 2254, .cos = 3419 },  { .sin = 2259, .cos = 3416 },  { .sin = 2265, .cos = 3412 },  { .sin = 2270, .cos = 3409 },  { .sin = 2275, .cos = 3405 },  { .sin = 2280, .cos = 3402 },  { .sin = 2286, .cos = 3398 },  { .sin = 2291, .cos = 3395 },  { .sin = 2296, .cos = 3391 },  { .sin = 2301, .cos = 3388 },  { .sin = 2306, .cos = 3384 },  { .sin = 2312, .cos = 3381 },  { .sin = 2317, .cos = 3377 },  { .sin = 2322, .cos = 3373 },  { .sin = 2327, .cos = 3370 },  { .sin = 2332, .cos = 3366 },  { .sin = 2337, .cos = 3363 },  { .sin = 2343, .cos = 3359 },  { .sin = 2348, .cos = 3356 },  { .sin = 2353, .cos = 3352 },  { .sin = 2358, .cos = 3348 },  { .sin = 2363, .cos = 3345 },  { .sin = 2368, .cos = 3341 },  { .sin = 2373, .cos = 3337 },  { .sin = 2379, .cos = 3334 },  { .sin = 2384, .cos = 3330 },  { .sin = 2389, .cos = 3326 },  { .sin = 2394, .cos = 3323 },  { .sin = 2399, .cos = 3319 },  { .sin = 2404, .cos = 3315 },  { .sin = 2409, .cos = 3312 },  { .sin = 2414, .cos = 3308 },  { .sin = 2419, .cos = 3304 },  { .sin = 2424, .cos = 3301 },  { .sin = 2429, .cos = 3297 },  { .sin = 2434, .cos = 3293 },  { .sin = 2439, .cos = 3289 },  { .sin = 2445, .cos = 3286 },  { .sin = 2450, .cos = 3282 },  { .sin = 2455, .cos = 3278 },  { .sin = 2460, .cos = 3274 },  { .sin = 2465, .cos = 3271 },  { .sin = 2470, .cos = 3267 },  { .sin = 2475, .cos = 3263 },  { .sin = 2480, .cos = 3259 },  { .sin = 2485, .cos = 3255 },  { .sin = 2490, .cos = 3252 },  { .sin = 2495, .cos = 3248 },  { .sin = 2500, .cos = 3244 },  { .sin = 2505, .cos = 3240 },  { .sin = 2510, .cos = 3236 },  { .sin = 2515, .cos = 3232 },  { .sin = 2519, .cos = 3229 },  { .sin = 2524, .cos = 3225 },  { .sin = 2529, .cos = 3221 },  { .sin = 2534, .cos = 3217 },  { .sin = 2539, .cos = 3213 },  { .sin = 2544, .cos = 3209 },  { .sin = 2549, .cos = 3205 },  { .sin = 2554, .cos = 3201 },  { .sin = 2559, .cos = 3197 },  { .sin = 2564, .cos = 3193 },  { .sin = 2569, .cos = 3190 },  { .sin = 2574, .cos = 3186 },  { .sin = 2578, .cos = 3182 },  { .sin = 2583, .cos = 3178 },  { .sin = 2588, .cos = 3174 },  { .sin = 2593, .cos = 3170 },  { .sin = 2598, .cos = 3166 },  { .sin = 2603, .cos = 3162 },  { .sin = 2608, .cos = 3158 },  { .sin = 2613, .cos = 3154 },  { .sin = 2617, .cos = 3150 },  { .sin = 2622, .cos = 3146 },  { .sin = 2627, .cos = 3142 },  { .sin = 2632, .cos = 3138 },  { .sin = 2637, .cos = 3134 },  { .sin = 2641, .cos = 3130 },  { .sin = 2646, .cos = 3126 },  { .sin = 2651, .cos = 3121 },  { .sin = 2656, .cos = 3117 },  { .sin = 2661, .cos = 3113 },  { .sin = 2665, .cos = 3109 },  { .sin = 2670, .cos = 3105 },  { .sin = 2675, .cos = 3101 },  { .sin = 2680, .cos = 3097 },  { .sin = 2684, .cos = 3093 },  { .sin = 2689, .cos = 3089 },  { .sin = 2694, .cos = 3085 },  { .sin = 2699, .cos = 3080 },  { .sin = 2703, .cos = 3076 },  { .sin = 2708, .cos = 3072 },  { .sin = 2713, .cos = 3068 },  { .sin = 2717, .cos = 3064 },  { .sin = 2722, .cos = 3060 },  { .sin = 2727, .cos = 3055 },  { .sin = 2732, .cos = 3051 },  { .sin = 2736, .cos = 3047 },  { .sin = 2741, .cos = 3043 },  { .sin = 2746, .cos = 3039 },  { .sin = 2750, .cos = 3034 },  { .sin = 2755, .cos = 3030 },  { .sin = 2760, .cos = 3026 },  { .sin = 2764, .cos = 3022 },  { .sin = 2769, .cos = 3018 },  { .sin = 2773, .cos = 3013 },  { .sin = 2778, .cos = 3009 },  { .sin = 2783, .cos = 3005 },  { .sin = 2787, .cos = 3000 },  { .sin = 2792, .cos = 2996 },  { .sin = 2796, .cos = 2992 },  { .sin = 2801, .cos = 2988 },  { .sin = 2806, .cos = 2983 },  { .sin = 2810, .cos = 2979 },  { .sin = 2815, .cos = 2975 },  { .sin = 2819, .cos = 2970 },  { .sin = 2824, .cos = 2966 },  { .sin = 2828, .cos = 2962 },  { .sin = 2833, .cos = 2957 },  { .sin = 2837, .cos = 2953 },  { .sin = 2842, .cos = 2949 },  { .sin = 2847, .cos = 2944 },  { .sin = 2851, .cos = 2940 },  { .sin = 2856, .cos = 2936 },  { .sin = 2860, .cos = 2931 },  { .sin = 2865, .cos = 2927 },  { .sin = 2869, .cos = 2922 },  { .sin = 2874, .cos = 2918 },  { .sin = 2878, .cos = 2914 },  { .sin = 2882, .cos = 2909 },  { .sin = 2887, .cos = 2905 },  { .sin = 2891, .cos = 2900 },  { .sin = 2896, .cos = 2896 },  { .sin = 2900, .cos = 2891 },  { .sin = 2905, .cos = 2887 },  { .sin = 2909, .cos = 2882 },  { .sin = 2914, .cos = 2878 },  { .sin = 2918, .cos = 2874 },  { .sin = 2922, .cos = 2869 },  { .sin = 2927, .cos = 2865 },  { .sin = 2931, .cos = 2860 },  { .sin = 2936, .cos = 2856 },  { .sin = 2940, .cos = 2851 },  { .sin = 2944, .cos = 2847 },  { .sin = 2949, .cos = 2842 },  { .sin = 2953, .cos = 2837 },  { .sin = 2957, .cos = 2833 },  { .sin = 2962, .cos = 2828 },  { .sin = 2966, .cos = 2824 },  { .sin = 2970, .cos = 2819 },  { .sin = 2975, .cos = 2815 },  { .sin = 2979, .cos = 2810 },  { .sin = 2983, .cos = 2806 },  { .sin = 2988, .cos = 2801 },  { .sin = 2992, .cos = 2796 },  { .sin = 2996, .cos = 2792 },  { .sin = 3000, .cos = 2787 },  { .sin = 3005, .cos = 2783 },  { .sin = 3009, .cos = 2778 },  { .sin = 3013, .cos = 2773 },  { .sin = 3018, .cos = 2769 },  { .sin = 3022, .cos = 2764 },  { .sin = 3026, .cos = 2760 },  { .sin = 3030, .cos = 2755 },  { .sin = 3034, .cos = 2750 },  { .sin = 3039, .cos = 2746 },  { .sin = 3043, .cos = 2741 },  { .sin = 3047, .cos = 2736 },  { .sin = 3051, .cos = 2732 },  { .sin = 3055, .cos = 2727 },  { .sin = 3060, .cos = 2722 },  { .sin = 3064, .cos = 2717 },  { .sin = 3068, .cos = 2713 },  { .sin = 3072, .cos = 2708 },  { .sin = 3076, .cos = 2703 },  { .sin = 3080, .cos = 2699 },  { .sin = 3085, .cos = 2694 },  { .sin = 3089, .cos = 2689 },  { .sin = 3093, .cos = 2684 },  { .sin = 3097, .cos = 2680 },  { .sin = 3101, .cos = 2675 },  { .sin = 3105, .cos = 2670 },  { .sin = 3109, .cos = 2665 },  { .sin = 3113, .cos = 2661 },  { .sin = 3117, .cos = 2656 },  { .sin = 3121, .cos = 2651 },  { .sin = 3126, .cos = 2646 },  { .sin = 3130, .cos = 2641 },  { .sin = 3134, .cos = 2637 },  { .sin = 3138, .cos = 2632 },  { .sin = 3142, .cos = 2627 },  { .sin = 3146, .cos = 2622 },  { .sin = 3150, .cos = 2617 },  { .sin = 3154, .cos = 2613 },  { .sin = 3158, .cos = 2608 },  { .sin = 3162, .cos = 2603 },  { .sin = 3166, .cos = 2598 },  { .sin = 3170, .cos = 2593 },  { .sin = 3174, .cos = 2588 },  { .sin = 3178, .cos = 2583 },  { .sin = 3182, .cos = 2578 },  { .sin = 3186, .cos = 2574 },  { .sin = 3190, .cos = 2569 },  { .sin = 3193, .cos = 2564 },  { .sin = 3197, .cos = 2559 },  { .sin = 3201, .cos = 2554 },  { .sin = 3205, .cos = 2549 },  { .sin = 3209, .cos = 2544 },  { .sin = 3213, .cos = 2539 },  { .sin = 3217, .cos = 2534 },  { .sin = 3221, .cos = 2529 },  { .sin = 3225, .cos = 2524 },  { .sin = 3229, .cos = 2519 },  { .sin = 3232, .cos = 2515 },  { .sin = 3236, .cos = 2510 },  { .sin = 3240, .cos = 2505 },  { .sin = 3244, .cos = 2500 },  { .sin = 3248, .cos = 2495 },  { .sin = 3252, .cos = 2490 },  { .sin = 3255, .cos = 2485 },  { .sin = 3259, .cos = 2480 },  { .sin = 3263, .cos = 2475 },  { .sin = 3267, .cos = 2470 },  { .sin = 3271, .cos = 2465 },  { .sin = 3274, .cos = 2460 },  { .sin = 3278, .cos = 2455 },  { .sin = 3282, .cos = 2450 },  { .sin = 3286, .cos = 2445 },  { .sin = 3289, .cos = 2439 },  { .sin = 3293, .cos = 2434 },  { .sin = 3297, .cos = 2429 },  { .sin = 3301, .cos = 2424 },  { .sin = 3304, .cos = 2419 },  { .sin = 3308, .cos = 2414 },  { .sin = 3312, .cos = 2409 },  { .sin = 3315, .cos = 2404 },  { .sin = 3319, .cos = 2399 },  { .sin = 3323, .cos = 2394 },  { .sin = 3326, .cos = 2389 },  { .sin = 3330, .cos = 2384 },  { .sin = 3334, .cos = 2379 },  { .sin = 3337, .cos = 2373 },  { .sin = 3341, .cos = 2368 },  { .sin = 3345, .cos = 2363 },  { .sin = 3348, .cos = 2358 },  { .sin = 3352, .cos = 2353 },  { .sin = 3356, .cos = 2348 },  { .sin = 3359, .cos = 2343 },  { .sin = 3363, .cos = 2337 },  { .sin = 3366, .cos = 2332 },  { .sin = 3370, .cos = 2327 },  { .sin = 3373, .cos = 2322 },  { .sin = 3377, .cos = 2317 },  { .sin = 3381, .cos = 2312 },  { .sin = 3384, .cos = 2306 },  { .sin = 3388, .cos = 2301 },  { .sin = 3391, .cos = 2296 },  { .sin = 3395, .cos = 2291 },  { .sin = 3398, .cos = 2286 },  { .sin = 3402, .cos = 2280 },  { .sin = 3405, .cos = 2275 },  { .sin = 3409, .cos = 2270 },  { .sin = 3412, .cos = 2265 },  { .sin = 3416, .cos = 2259 },  { .sin = 3419, .cos = 2254 },  { .sin = 3423, .cos = 2249 },  { .sin = 3426, .cos = 2244 },  { .sin = 3429, .cos = 2238 },  { .sin = 3433, .cos = 2233 },  { .sin = 3436, .cos = 2228 },  { .sin = 3440, .cos = 2223 },  { .sin = 3443, .cos = 2217 },  { .sin = 3447, .cos = 2212 },  { .sin = 3450, .cos = 2207 },  { .sin = 3453, .cos = 2201 },  { .sin = 3457, .cos = 2196 },  { .sin = 3460, .cos = 2191 },  { .sin = 3463, .cos = 2186 },  { .sin = 3467, .cos = 2180 },  { .sin = 3470, .cos = 2175 },  { .sin = 3473, .cos = 2170 },  { .sin = 3477, .cos = 2164 },  { .sin = 3480, .cos = 2159 },  { .sin = 3483, .cos = 2154 },  { .sin = 3487, .cos = 2148 },  { .sin = 3490, .cos = 2143 },  { .sin = 3493, .cos = 2138 },  { .sin = 3497, .cos = 2132 },  { .sin = 3500, .cos = 2127 },  { .sin = 3503, .cos = 2121 },  { .sin = 3506, .cos = 2116 },  { .sin = 3510, .cos = 2111 },  { .sin = 3513, .cos = 2105 },  { .sin = 3516, .cos = 2100 },  { .sin = 3519, .cos = 2094 },  { .sin = 3522, .cos = 2089 },  { .sin = 3526, .cos = 2084 },  { .sin = 3529, .cos = 2078 },  { .sin = 3532, .cos = 2073 },  { .sin = 3535, .cos = 2067 },  { .sin = 3538, .cos = 2062 },  { .sin = 3541, .cos = 2057 },  { .sin = 3545, .cos = 2051 },  { .sin = 3548, .cos = 2046 },  { .sin = 3551, .cos = 2040 },  { .sin = 3554, .cos = 2035 },  { .sin = 3557, .cos = 2029 },  { .sin = 3560, .cos = 2024 },  { .sin = 3563, .cos = 2018 },  { .sin = 3566, .cos = 2013 },  { .sin = 3570, .cos = 2007 },  { .sin = 3573, .cos = 2002 },  { .sin = 3576, .cos = 1997 },  { .sin = 3579, .cos = 1991 },  { .sin = 3582, .cos = 1986 },  { .sin = 3585, .cos = 1980 },  { .sin = 3588, .cos = 1975 },  { .sin = 3591, .cos = 1969 },  { .sin = 3594, .cos = 1964 },  { .sin = 3597, .cos = 1958 },  { .sin = 3600, .cos = 1952 },  { .sin = 3603, .cos = 1947 },  { .sin = 3606, .cos = 1941 },  { .sin = 3609, .cos = 1936 },  { .sin = 3612, .cos = 1930 },  { .sin = 3615, .cos = 1925 },  { .sin = 3618, .cos = 1919 },  { .sin = 3621, .cos = 1914 },  { .sin = 3624, .cos = 1908 },  { .sin = 3627, .cos = 1903 },  { .sin = 3629, .cos = 1897 },  { .sin = 3632, .cos = 1891 },  { .sin = 3635, .cos = 1886 },  { .sin = 3638, .cos = 1880 },  { .sin = 3641, .cos = 1875 },  { .sin = 3644, .cos = 1869 },  { .sin = 3647, .cos = 1864 },  { .sin = 3650, .cos = 1858 },  { .sin = 3652, .cos = 1852 },  { .sin = 3655, .cos = 1847 },  { .sin = 3658, .cos = 1841 },  { .sin = 3661, .cos = 1835 },  { .sin = 3664, .cos = 1830 },  { .sin = 3667, .cos = 1824 },  { .sin = 3669, .cos = 1819 },  { .sin = 3672, .cos = 1813 },  { .sin = 3675, .cos = 1807 },  { .sin = 3678, .cos = 1802 },  { .sin = 3680, .cos = 1796 },  { .sin = 3683, .cos = 1790 },  { .sin = 3686, .cos = 1785 },  { .sin = 3689, .cos = 1779 },  { .sin = 3691, .cos = 1773 },  { .sin = 3694, .cos = 1768 },  { .sin = 3697, .cos = 1762 },  { .sin = 3700, .cos = 1756 },  { .sin = 3702, .cos = 1751 },  { .sin = 3705, .cos = 1745 },  { .sin = 3708, .cos = 1739 },  { .sin = 3710, .cos = 1734 },  { .sin = 3713, .cos = 1728 },  { .sin = 3716, .cos = 1722 },  { .sin = 3718, .cos = 1717 },  { .sin = 3721, .cos = 1711 },  { .sin = 3723, .cos = 1705 },  { .sin = 3726, .cos = 1699 },  { .sin = 3729, .cos = 1694 },  { .sin = 3731, .cos = 1688 },  { .sin = 3734, .cos = 1682 },  { .sin = 3736, .cos = 1677 },  { .sin = 3739, .cos = 1671 },  { .sin = 3742, .cos = 1665 },  { .sin = 3744, .cos = 1659 },  { .sin = 3747, .cos = 1654 },  { .sin = 3749, .cos = 1648 },  { .sin = 3752, .cos = 1642 },  { .sin = 3754, .cos = 1636 },  { .sin = 3757, .cos = 1631 },  { .sin = 3759, .cos = 1625 },  { .sin = 3762, .cos = 1619 },  { .sin = 3764, .cos = 1613 },  { .sin = 3767, .cos = 1608 },  { .sin = 3769, .cos = 1602 },  { .sin = 3772, .cos = 1596 },  { .sin = 3774, .cos = 1590 },  { .sin = 3776, .cos = 1584 },  { .sin = 3779, .cos = 1579 },  { .sin = 3781, .cos = 1573 },  { .sin = 3784, .cos = 1567 },  { .sin = 3786, .cos = 1561 },  { .sin = 3789, .cos = 1555 },  { .sin = 3791, .cos = 1550 },  { .sin = 3793, .cos = 1544 },  { .sin = 3796, .cos = 1538 },  { .sin = 3798, .cos = 1532 },  { .sin = 3800, .cos = 1526 },  { .sin = 3803, .cos = 1520 },  { .sin = 3805, .cos = 1515 },  { .sin = 3807, .cos = 1509 },  { .sin = 3810, .cos = 1503 },  { .sin = 3812, .cos = 1497 },  { .sin = 3814, .cos = 1491 },  { .sin = 3816, .cos = 1485 },  { .sin = 3819, .cos = 1479 },  { .sin = 3821, .cos = 1474 },  { .sin = 3823, .cos = 1468 },  { .sin = 3826, .cos = 1462 },  { .sin = 3828, .cos = 1456 },  { .sin = 3830, .cos = 1450 },  { .sin = 3832, .cos = 1444 },  { .sin = 3834, .cos = 1438 },  { .sin = 3837, .cos = 1433 },  { .sin = 3839, .cos = 1427 },  { .sin = 3841, .cos = 1421 },  { .sin = 3843, .cos = 1415 },  { .sin = 3845, .cos = 1409 },  { .sin = 3848, .cos = 1403 },  { .sin = 3850, .cos = 1397 },  { .sin = 3852, .cos = 1391 },  { .sin = 3854, .cos = 1385 },  { .sin = 3856, .cos = 1379 },  { .sin = 3858, .cos = 1373 },  { .sin = 3860, .cos = 1368 },  { .sin = 3862, .cos = 1362 },  { .sin = 3864, .cos = 1356 },  { .sin = 3867, .cos = 1350 },  { .sin = 3869, .cos = 1344 },  { .sin = 3871, .cos = 1338 },  { .sin = 3873, .cos = 1332 },  { .sin = 3875, .cos = 1326 },  { .sin = 3877, .cos = 1320 },  { .sin = 3879, .cos = 1314 },  { .sin = 3881, .cos = 1308 },  { .sin = 3883, .cos = 1302 },  { .sin = 3885, .cos = 1296 },  { .sin = 3887, .cos = 1290 },  { .sin = 3889, .cos = 1284 },  { .sin = 3891, .cos = 1278 },  { .sin = 3893, .cos = 1272 },  { .sin = 3895, .cos = 1266 },  { .sin = 3897, .cos = 1260 },  { .sin = 3899, .cos = 1254 },  { .sin = 3900, .cos = 1248 },  { .sin = 3902, .cos = 1243 },  { .sin = 3904, .cos = 1237 },  { .sin = 3906, .cos = 1231 },  { .sin = 3908, .cos = 1225 },  { .sin = 3910, .cos = 1219 },  { .sin = 3912, .cos = 1213 },  { .sin = 3914, .cos = 1207 },  { .sin = 3915, .cos = 1201 },  { .sin = 3917, .cos = 1195 },  { .sin = 3919, .cos = 1189 },  { .sin = 3921, .cos = 1182 },  { .sin = 3923, .cos = 1176 },  { .sin = 3925, .cos = 1170 },  { .sin = 3926, .cos = 1164 },  { .sin = 3928, .cos = 1158 },  { .sin = 3930, .cos = 1152 },  { .sin = 3932, .cos = 1146 },  { .sin = 3933, .cos = 1140 },  { .sin = 3935, .cos = 1134 },  { .sin = 3937, .cos = 1128 },  { .sin = 3939, .cos = 1122 },  { .sin = 3940, .cos = 1116 },  { .sin = 3942, .cos = 1110 },  { .sin = 3944, .cos = 1104 },  { .sin = 3945, .cos = 1098 },  { .sin = 3947, .cos = 1092 },  { .sin = 3949, .cos = 1086 },  { .sin = 3950, .cos = 1080 },  { .sin = 3952, .cos = 1074 },  { .sin = 3954, .cos = 1068 },  { .sin = 3955, .cos = 1062 },  { .sin = 3957, .cos = 1056 },  { .sin = 3959, .cos = 1050 },  { .sin = 3960, .cos = 1043 },  { .sin = 3962, .cos = 1037 },  { .sin = 3963, .cos = 1031 },  { .sin = 3965, .cos = 1025 },  { .sin = 3967, .cos = 1019 },  { .sin = 3968, .cos = 1013 },  { .sin = 3970, .cos = 1007 },  { .sin = 3971, .cos = 1001 },  { .sin = 3973, .cos = 995 },  { .sin = 3974, .cos = 989 },  { .sin = 3976, .cos = 983 },  { .sin = 3977, .cos = 976 },  { .sin = 3979, .cos = 970 },  { .sin = 3980, .cos = 964 },  { .sin = 3982, .cos = 958 },  { .sin = 3983, .cos = 952 },  { .sin = 3985, .cos = 946 },  { .sin = 3986, .cos = 940 },  { .sin = 3988, .cos = 934 },  { .sin = 3989, .cos = 928 },  { .sin = 3990, .cos = 921 },  { .sin = 3992, .cos = 915 },  { .sin = 3993, .cos = 909 },  { .sin = 3995, .cos = 903 },  { .sin = 3996, .cos = 897 },  { .sin = 3997, .cos = 891 },  { .sin = 3999, .cos = 885 },  { .sin = 4000, .cos = 879 },  { .sin = 4001, .cos = 872 },  { .sin = 4003, .cos = 866 },  { .sin = 4004, .cos = 860 },  { .sin = 4005, .cos = 854 },  { .sin = 4007, .cos = 848 },  { .sin = 4008, .cos = 842 },  { .sin = 4009, .cos = 836 },  { .sin = 4011, .cos = 829 },  { .sin = 4012, .cos = 823 },  { .sin = 4013, .cos = 817 },  { .sin = 4014, .cos = 811 },  { .sin = 4016, .cos = 805 },  { .sin = 4017, .cos = 799 },  { .sin = 4018, .cos = 792 },  { .sin = 4019, .cos = 786 },  { .sin = 4020, .cos = 780 },  { .sin = 4022, .cos = 774 },  { .sin = 4023, .cos = 768 },  { .sin = 4024, .cos = 762 },  { .sin = 4025, .cos = 755 },  { .sin = 4026, .cos = 749 },  { .sin = 4027, .cos = 743 },  { .sin = 4029, .cos = 737 },  { .sin = 4030, .cos = 731 },  { .sin = 4031, .cos = 725 },  { .sin = 4032, .cos = 718 },  { .sin = 4033, .cos = 712 },  { .sin = 4034, .cos = 706 },  { .sin = 4035, .cos = 700 },  { .sin = 4036, .cos = 694 },  { .sin = 4037, .cos = 687 },  { .sin = 4038, .cos = 681 },  { .sin = 4039, .cos = 675 },  { .sin = 4040, .cos = 669 },  { .sin = 4041, .cos = 663 },  { .sin = 4042, .cos = 656 },  { .sin = 4043, .cos = 650 },  { .sin = 4044, .cos = 644 },  { .sin = 4045, .cos = 638 },  { .sin = 4046, .cos = 632 },  { .sin = 4047, .cos = 625 },  { .sin = 4048, .cos = 619 },  { .sin = 4049, .cos = 613 },  { .sin = 4050, .cos = 607 },  { .sin = 4051, .cos = 601 },  { .sin = 4052, .cos = 594 },  { .sin = 4053, .cos = 588 },  { .sin = 4054, .cos = 582 },  { .sin = 4055, .cos = 576 },  { .sin = 4056, .cos = 569 },  { .sin = 4057, .cos = 563 },  { .sin = 4057, .cos = 557 },  { .sin = 4058, .cos = 551 },  { .sin = 4059, .cos = 545 },  { .sin = 4060, .cos = 538 },  { .sin = 4061, .cos = 532 },  { .sin = 4062, .cos = 526 },  { .sin = 4062, .cos = 520 },  { .sin = 4063, .cos = 513 },  { .sin = 4064, .cos = 507 },  { .sin = 4065, .cos = 501 },  { .sin = 4065, .cos = 495 },  { .sin = 4066, .cos = 488 },  { .sin = 4067, .cos = 482 },  { .sin = 4068, .cos = 476 },  { .sin = 4068, .cos = 470 },  { .sin = 4069, .cos = 463 },  { .sin = 4070, .cos = 457 },  { .sin = 4071, .cos = 451 },  { .sin = 4071, .cos = 445 },  { .sin = 4072, .cos = 438 },  { .sin = 4073, .cos = 432 },  { .sin = 4073, .cos = 426 },  { .sin = 4074, .cos = 420 },  { .sin = 4075, .cos = 413 },  { .sin = 4075, .cos = 407 },  { .sin = 4076, .cos = 401 },  { .sin = 4076, .cos = 395 },  { .sin = 4077, .cos = 388 },  { .sin = 4078, .cos = 382 },  { .sin = 4078, .cos = 376 },  { .sin = 4079, .cos = 370 },  { .sin = 4079, .cos = 363 },  { .sin = 4080, .cos = 357 },  { .sin = 4080, .cos = 351 },  { .sin = 4081, .cos = 345 },  { .sin = 4081, .cos = 338 },  { .sin = 4082, .cos = 332 },  { .sin = 4082, .cos = 326 },  { .sin = 4083, .cos = 320 },  { .sin = 4083, .cos = 313 },  { .sin = 4084, .cos = 307 },  { .sin = 4084, .cos = 301 },  { .sin = 4085, .cos = 295 },  { .sin = 4085, .cos = 288 },  { .sin = 4086, .cos = 282 },  { .sin = 4086, .cos = 276 },  { .sin = 4087, .cos = 269 },  { .sin = 4087, .cos = 263 },  { .sin = 4087, .cos = 257 },  { .sin = 4088, .cos = 251 },  { .sin = 4088, .cos = 244 },  { .sin = 4089, .cos = 238 },  { .sin = 4089, .cos = 232 },  { .sin = 4089, .cos = 226 },  { .sin = 4090, .cos = 219 },  { .sin = 4090, .cos = 213 },  { .sin = 4090, .cos = 207 },  { .sin = 4091, .cos = 200 },  { .sin = 4091, .cos = 194 },  { .sin = 4091, .cos = 188 },  { .sin = 4091, .cos = 182 },  { .sin = 4092, .cos = 175 },  { .sin = 4092, .cos = 169 },  { .sin = 4092, .cos = 163 },  { .sin = 4092, .cos = 157 },  { .sin = 4093, .cos = 150 },  { .sin = 4093, .cos = 144 },  { .sin = 4093, .cos = 138 },  { .sin = 4093, .cos = 131 },  { .sin = 4094, .cos = 125 },  { .sin = 4094, .cos = 119 },  { .sin = 4094, .cos = 113 },  { .sin = 4094, .cos = 106 },  { .sin = 4094, .cos = 100 },  { .sin = 4094, .cos = 94 },  { .sin = 4095, .cos = 87 },  { .sin = 4095, .cos = 81 },  { .sin = 4095, .cos = 75 },  { .sin = 4095, .cos = 69 },  { .sin = 4095, .cos = 62 },  { .sin = 4095, .cos = 56 },  { .sin = 4095, .cos = 50 },  { .sin = 4095, .cos = 43 },  { .sin = 4095, .cos = 37 },  { .sin = 4095, .cos = 31 },  { .sin = 4095, .cos = 25 },  { .sin = 4095, .cos = 18 },  { .sin = 4095, .cos = 12 },  { .sin = 4095, .cos = 6 }, };

/* Address: 0x8003d184 */
s32 MATH_Sin(u32 angle)
{
    s32 sine;
    if (IS_ANG_FIRST_OR_THIRD_QUADRANT(angle)) { sine = s_trigTable[ANG_MODULO_HALF_PI(angle)].sin; }
    else { sine = s_trigTable[ANG_MODULO_HALF_PI(angle)].cos; }

    if (IS_ANG_THIRD_OR_FOURTH_QUADRANT(angle)) { sine = -sine; }

    TEST_MATH_Sin(angle, sine);
    return sine;
}

/* Address: 0x8003d1c0 */
s32 MATH_Cos(u32 angle)
{
    s32 cos;
    if (IS_ANG_FIRST_OR_THIRD_QUADRANT(angle))
    {
        cos = s_trigTable[ANG_MODULO_HALF_PI(angle)].cos;
        if (IS_ANG_THIRD_OR_FOURTH_QUADRANT(angle)) { cos = -cos; }
    }
    else
    {
        cos = s_trigTable[ANG_MODULO_HALF_PI(angle)].sin;
        if (!IS_ANG_THIRD_OR_FOURTH_QUADRANT(angle)) { cos = -cos; }
    }
    TEST_MATH_Cos(angle, cos);
    return cos;
}

/* Address: 0x8003d214 */
u32 MATH_Sqrt(u32 n, u32 shift)
{
    u32 root = 0;
    u32 remainder = 0;
#ifdef TEST_MATH_IMPL
    const u32 input = n;
#endif
    const u32 iterations = (shift / 2) + (sizeof(u32) * 8) / 2;
    for (u32 i = 0; i < iterations; i++)
    {
        remainder = (remainder * 4) | (n >> 30);
        n *= 4;
        u32 testDiv = root * 4 + 1;
        root *= 2;
        if (remainder >= testDiv)
        {
            remainder -= testDiv;
            root += 1;
        }
    }
    TEST_MATH_Sqrt(input, shift, root);
    return root;
}

/* Address: 0x8003d264 */
void MATH_GetInverseMatrixTransformation(Matrix* out, const Matrix* matrix)
{
    for (u32 i = 0; i < 3; i++)
    {
        for (u32 j = 0; j < 3; j++) { out->m[i][j] = matrix->m[j][i]; }
    }
    const SVec3 t = { .x = (-matrix->t.x) & 0xFFFF, .y = (-matrix->t.y) & 0xFFFF, .z = (-matrix->t.z) & 0xFFFF };
    gte_SetRotMatrix(out->m);
    gte_loadSVec(&t, GTE_VECTOR_0);
    gte_mulMatrixVec(out->t.v, GTE_MATRIX_ROT, GTE_VECTOR_0);
    TEST_MATH_GetInverseMatrixTransformation(matrix, out);
}

/* Address: 0x8003d328 */
s32 MATH_VectorLength(const SVec3* vector)
{
    gte_loadRowMatrix(vector, GTE_ROW_INDEX_0, GTE_MATRIX_ROT);
    gte_loadSVec(vector, GTE_VECTOR_0);
    s32 lengthSquared;
    gte_dotProduct(&lengthSquared, GTE_ROW_INDEX_0, GTE_MATRIX_ROT, GTE_VECTOR_0, GTE_CALC_INT);
    const s32 len = ND_SquareRoot0_stub(lengthSquared);
    TEST_MATH_VectorLength(vector, len);
    return len;
}

/* Address: 0x8003d378 */
void MATH_VectorNormalize(SVec3* vector)
{
#ifdef TEST_MATH_IMPL
    SVec3 input = *vector;
#endif
    s32 len = MATH_VectorLength(vector);
    if (len == 0) { return; }
    vector->x = FP_DIV(vector->x, len);
    vector->y = FP_DIV(vector->y, len);
    vector->z = FP_DIV(vector->z, len);
    TEST_MATH_VectorNormalize(&input, vector);
}

/* Address: 0x8003d460 */
void MATH_CombineMatrixTransformation(Matrix* out, const Matrix* m, const Matrix* n)
{
    /*
        M = [ Rm tm ] N = [ Rn tn ]
            [ 0  1  ]     [ 0  1  ]

        M*N = [ RmRn (Rmtn + tm) ]
              [   0        1     ]
    */
#ifdef TEST_MATH_IMPL
    Matrix inputM = *m;
    Matrix inputN = *n;
#endif
    MATH_MatrixMultiplication(out, m, n);
    Vec3 res[2];
    Vec3 upper = { .x = n->t.x >> 15, .y = n->t.y >> 15, .z = n->t.z >> 15 };
    Vec3 lower = { .x = n->t.x & 0x7fff, .y = n->t.y & 0x7fff, .z = n->t.z & 0x7fff };
    gte_loadVec(&upper, GTE_VECTOR_IR);
    _gte_mulMatrixVec(res[0].v, GTE_MATRIX_ROT, GTE_VECTOR_IR, 0); // Special case, no shifting
    gte_loadVec(&lower, GTE_VECTOR_IR);
    gte_mulMatrixVec(res[1].v, GTE_MATRIX_ROT, GTE_VECTOR_IR);
    out->t.x = (res[0].x * 8) + res[1].x + m->t.x;
    out->t.y = (res[0].y * 8) + res[1].y + m->t.y;
    out->t.z = (res[0].z * 8) + res[1].z + m->t.z;
    TEST_MATH_CombineMatrixTransformation(&inputM, &inputN, out);
}

/* Address: 0x8006c3b0 */
void MATH_MatrixMultiplication(Matrix* out, const Matrix* m, const Matrix* n)
{
#ifdef TEST_MATH_IMPL
    Matrix inputM = *m;
    Matrix inputN = *n;
#endif
    Vec3 res[3];
    const SVec3 v0 = { .x = n->m[0][0], .y = n->m[1][0], .z = n->m[2][0] };
    const SVec3 v1 = { .x = n->m[0][1], .y = n->m[1][1], .z = n->m[2][1] };
    const SVec3 v2 = { .x = n->m[0][2], .y = n->m[1][2], .z = n->m[2][2] };
    gte_SetRotMatrix(m->m);
    gte_loadSVec(&v0, GTE_VECTOR_0);
    gte_mulMatrixVec(res[0].v, GTE_MATRIX_ROT, GTE_VECTOR_0);
    gte_loadSVec(&v1, GTE_VECTOR_1);
    gte_mulMatrixVec(res[1].v, GTE_MATRIX_ROT, GTE_VECTOR_1);
    gte_loadSVec(&v2, GTE_VECTOR_2);
    gte_mulMatrixVec(res[2].v, GTE_MATRIX_ROT, GTE_VECTOR_2);
    out->m[0][0] = res[0].x; out->m[0][1] = res[1].x; out->m[0][2] = res[2].x;
    out->m[1][0] = res[0].y; out->m[1][1] = res[1].y; out->m[1][2] = res[2].y;
    out->m[2][0] = res[0].z; out->m[2][1] = res[1].z; out->m[2][2] = res[2].z;
    gte_SetRotMatrix(out->m);
    TEST_MATH_MatrixMultiplication(&inputM, &inputN, out);
}